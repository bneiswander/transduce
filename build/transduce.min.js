!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.transduce=t()}}(function(){return function t(r,e,n){function u(o,s){if(!e[o]){if(!r[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var a=e[o]={exports:{}};r[o][0].call(a.exports,function(t){var e=r[o][1][t];return u(e?e:t)},a,a.exports,t,r,e,n)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)u(n[o]);return u}({1:[function(t,r){"use strict";function e(t){t=o(t);for(var r=t.next(),e=[];!r.done;)e.push(r.value),r=t.next();return e}function n(t){return t[h]!==p}function u(t){return n(t)||l(t.next)}function i(t){var r;return r=n(t)?t:y(t)||x(t)?new s(t):l(t)?new c(t):new f(t)}function o(t){var r=i(t);return r!==p?r=r[h]():l(t.next)&&(r=t),r}function s(t){this.arr=t}function c(t){this.fn=t}function f(t){this.obj=t,this.keys=v(t)}function a(t){var r,e=[];for(r in t)t.hasOwnProperty(r)&&e.push(r);return e}var p,d=t("transduce-util"),h=d.protocols.iterator,l=d.isFunction,y=d.isArray,x=d.isString,v=Object.keys||a;r.exports={symbol:h,isIterable:n,isIterator:u,iterable:i,iterator:o,toArray:e,isFunction:l,isArray:y,isString:x},s.prototype[h]=function(){var t=this.arr,r=0;return{next:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}},c.prototype[h]=function(){var t=this.fn;return{next:function(){return{done:!1,value:t()}}}},f.prototype[h]=function(){var t=this.obj,r=this.keys,e=0;return{next:function(){if(e>=r.length)return{done:!0};var n=r[e++];return{done:!1,value:[n,t[n]]}}}}},{"transduce-util":19}],2:[function(t,r){"use strict";function e(t){return new n(t)}function n(t){this.xf=new u(t)}function u(t){this.xf=t}var i=t("transduce-reduced"),o=t("transduce-reduce");r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){return o(this.xf,t,r)},u.prototype.init=function(){return this.xf.init()},u.prototype.result=function(t){return this.xf.result(t)},u.prototype.step=function(t,r){return t=this.xf.step(t,r),i.isReduced(t)&&(t=i.reduced(t,!0)),t}},{"transduce-reduce":11,"transduce-reduced":12}],3:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.n=t}r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){return--this.n<0&&(t=this.xf.step(t,r)),t}},{}],4:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.p=t}var u;r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){if(this.p){if(this.p(r))return t;this.p=u}return this.xf.step(t,r)}},{}],5:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.f=t}r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){return this.f(r)&&(t=this.xf.step(t,r)),t}},{}],6:[function(t,r){"use strict";function e(t,r,e){return n(r,t,t,e)}var n=t("transduce-transduce");r.exports=e},{"transduce-transduce":18}],7:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.f=t}r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){return this.xf.step(t,this.f(r))}},{}],8:[function(t,r){"use strict";function e(t){return n.compose(u(t),i)}var n=t("transduce-util"),u=t("transduce-map"),i=t("transduce-cat");r.exports=e},{"transduce-cat":2,"transduce-map":7,"transduce-util":19}],9:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.n=t,this.inputs=[]}r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){var r=this.inputs;return r.length&&(this.inputs=[],t=this.xf.step(t,r)),this.xf.result(t)},n.prototype.step=function(t,r){var e=this.inputs,n=this.n;return e.push(r),n===e.length&&(this.inputs=[],t=this.xf.step(t,e)),t}},{}],10:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.f=t}var u,i=t("transduce-reduced");r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){var r=this.inputs;return r.length&&(this.inputs=[],t=this.xf.step(t,r)),this.xf.result(t)},n.prototype.step=function(t,r){var e=this.inputs,n=this.f(r),o=this.prev;return this.prev=n,e===u?this.inputs=[r]:o===n?e.push(r):(this.inputs=[],t=this.xf.step(t,e),i.isReduced(t)||this.inputs.push(r)),t}},{"transduce-reduced":12}],11:[function(t,r){"use strict";function e(t,r,e){a(e);return t=f(t),p(e)?n(t,r,e):u(t,r,e)}function n(t,r,e){for(var n=r,u=0,i=e.length;i>u;u++)if(n=t.step(n,e[u]),c(n)){n=d(n);break}return t.result(n)}function u(t,r,e){var n,u=r;for(e=a(e);;){if(n=e.next(),n.done)break;if(u=t.step(u,n.value),c(u)){u=d(u);break}}return t.result(u)}var i=t("iterator-protocol"),o=t("transformer-protocol"),s=t("transduce-reduced"),c=s.isReduced,f=o.transformer,a=i.iterator,p=i.isArray,d=s.deref;r.exports=e},{"iterator-protocol":1,"transduce-reduced":12,"transformer-protocol":20}],12:[function(t,r){"use strict";function e(t){return!!(t instanceof i||t&&t.__transducers_reduced__)}function n(t,r){return(r||!e(t))&&(t=new i(t)),t}function u(t){return e(t)&&(t=t.value),t}function i(t){this.value=t,this.__transducers_reduced__=!0}r.exports={isReduced:e,reduced:n,unreduced:u,deref:u}},{}],13:[function(t,r){"use strict";function e(t){return n(function(r){return!t(r)})}var n=t("transduce-filter");r.exports=e},{"transduce-filter":5}],14:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.n=t}var u=t("transduce-reduced");r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){return this.n-->0&&(t=this.xf.step(t,r)),this.n<=0&&(t=u.reduced(t)),t}},{"transduce-reduced":12}],15:[function(t,r){"use strict";function e(t){return function(r){return new n(t,r)}}function n(t,r){this.xf=r,this.p=t}var u=t("transduce-reduced").reduced;r.exports=e,n.prototype.init=function(){return this.xf.init()},n.prototype.result=function(t){return this.xf.result(t)},n.prototype.step=function(t,r){return t=this.p(r)?this.xf.step(t,r):u(t)}},{"transduce-reduced":12}],16:[function(t,r){"use strict";function e(t){return function(r,e){var u=[];return e===n?t.reduce(i,u,r):t.transduce(r,i,u,e)}}var n,u=t("transduce-util"),i=u.arrayPush;r.exports=e},{"transduce-util":19}],17:[function(t,r){"use strict";var e=t("transduce-impl-toarray");r.exports=e({transduce:t("transduce-transduce"),reduce:t("transduce-reduce")})},{"transduce-impl-toarray":16,"transduce-reduce":11,"transduce-transduce":18}],18:[function(t,r){"use strict";function e(t,r,e,n){return r=i(r),u(t(r),e,n)}var n=t("transformer-protocol"),u=t("transduce-reduce"),i=n.transformer;r.exports=e},{"transduce-reduce":11,"transformer-protocol":20}],19:[function(t,r){"use strict";function e(t){return"function"==typeof t}function n(t){return t===a}function u(t){var r="[object "+t+"]";return function(t){return d.call(t)===r}}function i(t){return t}function o(){var t=arguments;return function(r){for(var e=t.length;e--;)r=t[e](r);return r}}function s(t,r){return t.push(r),t}function c(t,r){if(h(r)&&2===r.length)t[r[0]]=r[1];else{var e;for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t}function f(t,r){return t+r}var a,p=Array,d=Object.prototype.toString,h=e(p.isArray)?p.isArray:u("Array"),l="undefined"!=typeof Symbol,y=l?Symbol.iterator:"@@iterator",x=l?Symbol("transformer"):"@@transformer",v={iterator:y,transformer:x};r.exports={protocols:v,isFunction:e,isArray:h,isString:u("String"),isRegExp:u("RegExp"),isNumber:u("Number"),isUndefined:n,compose:o,identity:i,arrayPush:s,objectMerge:c,stringAppend:f}},{}],20:[function(t,r){"use strict";function e(t){return t[p]!==c||d(t.step)&&d(t.result)}function n(t){var r;return e(t)?(r=t[p],r===c&&(r=t)):r=d(t)?new i(t):h(t)?new u(t):l(t)?new o(t):new s(t),r}function u(t){this.arrDefault=t===c?[]:t}function i(t){this.step=t}function o(t){this.strDefault=t===c?"":t}function s(t){this.objDefault=t===c?{}:m({},t)}var c,f=t("transduce-util"),a=Array.prototype.slice,p=f.protocols.transformer,d=f.isFunction,h=f.isArray,l=f.isString,y=f.identity,x=f.arrayPush,v=f.stringAppend,m=f.objectMerge;r.exports={symbol:p,isTransformer:e,transformer:n,isFunction:d,isArray:h,isString:l,arrayPush:x,objectMerge:m,stringAppend:v},u.prototype.init=function(){return a.call(this.arrDefault)},u.prototype.step=x,u.prototype.result=y,i.prototype.init=function(){throw new Error("Cannot init wrapped function, use proper transformer instead")},i.prototype.step=function(t,r){return this.step(t,r)},i.prototype.result=y,o.prototype.init=function(){return this.strDefault},o.prototype.step=v,o.prototype.result=y,s.prototype.init=function(){return m({},this.objDefault)},s.prototype.step=m,s.prototype.result=y},{"transduce-util":19}],21:[function(t,r){"use strict";var e=t("transduce-util"),n=t("transduce-reduced"),u=t("iterator-protocol"),i=t("transformer-protocol");r.exports={reduce:t("transduce-reduce"),transduce:t("transduce-transduce"),into:t("transduce-into"),toArray:t("transduce-toarray"),map:t("transduce-map"),filter:t("transduce-filter"),remove:t("transduce-remove"),take:t("transduce-take"),takeWhile:t("transduce-takewhile"),drop:t("transduce-drop"),dropWhile:t("transduce-dropwhile"),cat:t("transduce-cat"),mapcat:t("transduce-mapcat"),partitionAll:t("transduce-partitionall"),partitionBy:t("transduce-partitionby"),isIterable:u.isIterable,isIterator:u.isIterator,iterable:u.iterable,iterator:u.iterator,isTransformer:i.isTransformer,transformer:i.transformer,isReduced:n.isReduced,reduced:n.reduced,unreduced:n.unreduced,deref:n.unreduced,protocols:e.protocols,compose:e.compose,isFunction:e.isFunction,isArray:e.isArray,isString:e.isString,isRegExp:e.isRegExp,isNumber:e.isNumber,isUndefined:e.isUndefined,arrayPush:e.arrayPush,objectMerge:e.objectMerge,stringAppend:e.stringAppend,identity:e.identity}},{"iterator-protocol":1,"transduce-cat":2,"transduce-drop":3,"transduce-dropwhile":4,"transduce-filter":5,"transduce-into":6,"transduce-map":7,"transduce-mapcat":8,"transduce-partitionall":9,"transduce-partitionby":10,"transduce-reduce":11,"transduce-reduced":12,"transduce-remove":13,"transduce-take":14,"transduce-takewhile":15,"transduce-toarray":17,"transduce-transduce":18,"transduce-util":19,"transformer-protocol":20}]},{},[21])(21)});