!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.transduce=t()}}(function(){return function t(r,e,i){function n(o,s){if(!e[o]){if(!r[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(u)return u(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var p=e[o]={exports:{}};r[o][0].call(p.exports,function(t){var e=r[o][1][t];return n(e?e:t)},p,p.exports,t,r,e,i)}return e[o].exports}for(var u="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(t,r){"use strict";function e(t){this.xf=new i(t)}function i(t){this.xf=t}var n=t("./util/reduced"),u=t("./util/isReduced"),o=t("./reduce");r.exports=function(t){return new e(t)},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){return this.xf.result(t)},e.prototype.step=function(t,r){return o(this.xf,t,r)},i.prototype.init=function(){return this.xf.init()},i.prototype.result=function(t){return this.xf.result(t)},i.prototype.step=function(t,r){return t=this.xf.step(t,r),u(t)&&(t=n(t,!0)),t}},{"./reduce":16,"./util/isReduced":33,"./util/reduced":38}],2:[function(t,r){"use strict";function e(t,r){this.xf=r,this.n=t}r.exports=function(t){return function(r){return new e(t,r)}},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){return this.xf.result(t)},e.prototype.step=function(t,r){return--this.n<0&&(t=this.xf.step(t,r)),t}},{}],3:[function(t,r){"use strict";function e(t,r){this.xf=r,this.p=t}r.exports=function(t){return function(r){return new e(t,r)}},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){return this.xf.result(t)},e.prototype.step=function(t,r){if(this.p){if(this.p(r))return t;this.p=null}return this.xf.step(t,r)}},{}],4:[function(t,r){"use strict";function e(t){return function(r){return new i(t,r)}}function i(t,r){this.xf=r,this.f=t}r.exports=e,i.prototype.init=function(){return this.xf.init()},i.prototype.result=function(t){return this.xf.result(t)},i.prototype.step=function(t,r){return this.f(r)&&(t=this.xf.step(t,r)),t}},{}],5:[function(t,r){"use strict";r.exports={protocols:{iterator:t("./iterator/symbol"),transformer:t("./transformer/symbol")},reduce:t("./reduce"),transduce:t("./transduce"),into:t("./into"),toArray:t("./toArray"),map:t("./map"),filter:t("./filter"),remove:t("./remove"),take:t("./take"),takeWhile:t("./takeWhile"),drop:t("./drop"),dropWhile:t("./dropWhile"),cat:t("./cat"),mapcat:t("./mapcat"),partitionAll:t("./partitionAll"),partitionBy:t("./partitionBy"),isIterable:t("./iterator/isIterable"),isIterator:t("./iterator/isIterator"),iterable:t("./iterator/iterable"),iterator:t("./iterator/iterator"),isTransformer:t("./transformer/isTransformer"),transformer:t("./transformer/transformer"),compose:t("./util/compose"),isReduced:t("./util/isReduced"),reduced:t("./util/reduced"),unreduced:t("./util/unreduced"),isFunction:t("./util/isFunction"),isArray:t("./util/isArray"),isString:t("./util/isString"),isRegExp:t("./util/isRegExp"),isNumber:t("./util/isNumber"),isUndefined:t("./util/isUndefined"),arrayPush:t("./util/arrayPush"),objectMerge:t("./util/objectMerge"),stringAppend:t("./util/stringAppend"),identity:t("./util/identity")}},{"./cat":1,"./drop":2,"./dropWhile":3,"./filter":4,"./into":6,"./iterator/isIterable":7,"./iterator/isIterator":8,"./iterator/iterable":9,"./iterator/iterator":10,"./iterator/symbol":11,"./map":12,"./mapcat":13,"./partitionAll":14,"./partitionBy":15,"./reduce":16,"./remove":17,"./take":18,"./takeWhile":19,"./toArray":20,"./transduce":21,"./transformer/isTransformer":22,"./transformer/symbol":23,"./transformer/transformer":24,"./util/arrayPush":27,"./util/compose":28,"./util/identity":29,"./util/isArray":30,"./util/isFunction":31,"./util/isNumber":32,"./util/isReduced":33,"./util/isRegExp":34,"./util/isString":35,"./util/isUndefined":36,"./util/objectMerge":37,"./util/reduced":38,"./util/stringAppend":39,"./util/unreduced":40}],6:[function(t,r){"use strict";var e=t("./transduce");r.exports=function(t,r,i){return e(r,t,t,i)}},{"./transduce":21}],7:[function(t,r){"use strict";var e=t("./symbol");r.exports=function(t){return void 0!==t[e]}},{"./symbol":11}],8:[function(t,r){"use strict";var e=t("./isIterable"),i=t("../util/isFunction");r.exports=function(t){return e(t)||i(t.next)}},{"../util/isFunction":31,"./isIterable":7}],9:[function(t,r){"use strict";function e(t){this.arr=t}function i(t){this.fn=t}function n(t){this.obj=t,this.keys=a(t)}function u(t){var r,e=[];for(r in t)t.hasOwnProperty(r)&&e.push(r);return e}var o=t("./isIterable"),s=t("./symbol"),c=t("../util/isArray"),f=t("../util/isFunction"),p=t("../util/isString"),a=Object.keys||u;r.exports=function(t){var r;return r=o(t)?t:c(t)||p(t)?new e(t):f(t)?new i(t):new n(t)},e.prototype[s]=function(){var t=this.arr,r=0;return{next:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}},i.prototype[s]=function(){var t=this.fn;return{next:function(){return{done:!1,value:t()}}}},n.prototype[s]=function(){var t=this.obj,r=this.keys,e=0;return{next:function(){if(e>=r.length)return{done:!0};var i=r[e++];return{done:!1,value:[i,t[i]]}}}}},{"../util/isArray":30,"../util/isFunction":31,"../util/isString":35,"./isIterable":7,"./symbol":11}],10:[function(t,r){"use strict";var e=t("./symbol"),i=t("./iterable"),n=t("../util/isFunction");r.exports=function(t){var r=i(t);return void 0!==r?r=r[e]():n(t.next)&&(r=t),r}},{"../util/isFunction":31,"./iterable":9,"./symbol":11}],11:[function(t,r){"use strict";var e="undefined"!=typeof Symbol;r.exports=e?Symbol.iterator:"@@iterator"},{}],12:[function(t,r){"use strict";function e(t,r){this.xf=r,this.f=t}r.exports=function(t){return function(r){return new e(t,r)}},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){return this.xf.result(t)},e.prototype.step=function(t,r){return this.xf.step(t,this.f(r))}},{}],13:[function(t,r){"use strict";var e=t("./util/compose"),i=t("./map"),n=t("./cat");r.exports=function(t){return e(i(t),n)}},{"./cat":1,"./map":12,"./util/compose":28}],14:[function(t,r){"use strict";function e(t){return function(r){return new i(t,r)}}function i(t,r){this.xf=r,this.n=t,this.inputs=[]}r.exports=e,i.prototype.init=function(){return this.xf.init()},i.prototype.result=function(t){var r=this.inputs;return r.length&&(this.inputs=[],t=this.xf.step(t,r)),this.xf.result(t)},i.prototype.step=function(t,r){var e=this.inputs,i=this.n;return e.push(r),i===e.length&&(this.inputs=[],t=this.xf.step(t,e)),t}},{}],15:[function(t,r){"use strict";function e(t,r){this.xf=r,this.f=t}var i=t("./util/isReduced");r.exports=function(t){return function(r){return new e(t,r)}},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){var r=this.inputs;return r.length&&(this.inputs=[],t=this.xf.step(t,r)),this.xf.result(t)},e.prototype.step=function(t,r){var e=this.inputs,n=this.f(r),u=this.prev;return this.prev=n,void 0===e?this.inputs=[r]:u===n?e.push(r):(this.inputs=[],t=this.xf.step(t,e),i(t)||this.inputs.push(r)),t}},{"./util/isReduced":33}],16:[function(t,r){"use strict";function e(t,r,e){for(var i=r,n=0,s=e.length;s>n;n++)if(i=t.step(i,e[n]),u(i)){i=o(i);break}return t.result(i)}function i(t,r,e){var i,n=r;for(e=c(e);;){if(i=e.next(),i.done)break;if(n=t.step(n,i.value),u(n)){n=o(n);break}}return t.result(n)}var n=t("./transformer/transformer"),u=t("./util/isReduced"),o=t("./util/unreduced"),s=t("./util/isArray"),c=t("./iterator/iterator");r.exports=function(t,r,u){return t=n(t),s(u)?e(t,r,u):i(t,r,u)}},{"./iterator/iterator":10,"./transformer/transformer":24,"./util/isArray":30,"./util/isReduced":33,"./util/unreduced":40}],17:[function(t,r){"use strict";function e(t){return i(function(r){return!t(r)})}var i=t("./filter");r.exports=e},{"./filter":4}],18:[function(t,r){"use strict";function e(t,r){this.xf=r,this.n=t}var i=t("./util/reduced");r.exports=function(t){return function(r){return new e(t,r)}},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){return this.xf.result(t)},e.prototype.step=function(t,r){return this.n-->0&&(t=this.xf.step(t,r)),this.n<=0&&(t=i(t)),t}},{"./util/reduced":38}],19:[function(t,r){"use strict";function e(t,r){this.xf=r,this.p=t}var i=t("./util/reduced");r.exports=function(t){return function(r){return new e(t,r)}},e.prototype.init=function(){return this.xf.init()},e.prototype.result=function(t){return this.xf.result(t)},e.prototype.step=function(t,r){return t=this.p(r)?this.xf.step(t,r):i(t)}},{"./util/reduced":38}],20:[function(t,r){"use strict";var e=t("./transduce"),i=t("./reduce"),n=t("./util/arrayPush");r.exports=function(t,r){var u=[];return void 0===r?i(n,u,t):e(t,n,u,r)}},{"./reduce":16,"./transduce":21,"./util/arrayPush":27}],21:[function(t,r){"use strict";var e=t("./transformer/transformer"),i=t("./reduce");r.exports=function(t,r,n,u){return r=e(r),i(t(r),n,u)}},{"./reduce":16,"./transformer/transformer":24}],22:[function(t,r){"use strict";var e=t("./symbol"),i=t("../util/isFunction");r.exports=function(t){return void 0!==t[e]||i(t.step)&&i(t.result)}},{"../util/isFunction":31,"./symbol":23}],23:[function(t,r){"use strict";var e="undefined"!=typeof Symbol;r.exports=e?Symbol("transformer"):"@@transformer"},{}],24:[function(t,r){"use strict";function e(t){this.arrDefault=t===o?[]:t}function i(t){this.step=t}function n(t){this.strDefault=t===o?"":t}function u(t){this.objDefault=t===o?{}:y({},t)}var o,s=Array.prototype.slice,c=t("./symbol"),f=t("./isTransformer"),p=t("../util/isArray"),a=t("../util/isFunction"),l=t("../util/isString"),d=t("../util/identity"),h=t("../util/arrayPush"),y=t("../util/objectMerge"),x=t("../util/stringAppend");r.exports=function(t){var r;return f(t)?(r=t[c],r===o&&(r=t)):r=a(t)?new i(t):p(t)?new e(t):l(t)?new n(t):new u(t),r},e.prototype.init=function(){return s.call(this.arrDefault)},e.prototype.step=h,e.prototype.result=d,i.prototype.init=function(){throw new Error("Cannot init wrapped function, use proper transformer instead")},i.prototype.step=function(t,r){return this.step(t,r)},i.prototype.result=d,n.prototype.init=function(){return this.strDefault},n.prototype.step=x,n.prototype.result=d,u.prototype.init=function(){return y({},this.objDefault)},u.prototype.step=y,u.prototype.result=d},{"../util/arrayPush":27,"../util/identity":29,"../util/isArray":30,"../util/isFunction":31,"../util/isString":35,"../util/objectMerge":37,"../util/stringAppend":39,"./isTransformer":22,"./symbol":23}],25:[function(t,r){"use strict";r.exports=function(t){this.value=t,this.__transducers_reduced__=!0}},{}],26:[function(t,r){"use strict";var e=Object.prototype.toString;r.exports=function(t){var r="[object "+t+"]";return function(t){return e.call(t)===r}}},{}],27:[function(t,r){"use strict";r.exports=function(t,r){return t.push(r),t}},{}],28:[function(t,r){"use strict";r.exports=function(){var t=arguments;return function(r){for(var e=t.length;e--;)r=t[e](r);return r}}},{}],29:[function(t,r){"use strict";r.exports=function(t){return t}},{}],30:[function(t,r){r.exports=Array.isArray||t("./_predicateToString")("Array")},{"./_predicateToString":26}],31:[function(t,r){"use strict";r.exports=function(t){return"function"==typeof t}},{}],32:[function(t,r){r.exports=t("./_predicateToString")("Number")},{"./_predicateToString":26}],33:[function(t,r){"use strict";r.exports=function(t){return!(!t||!t.__transducers_reduced__)}},{}],34:[function(t,r){r.exports=t("./_predicateToString")("RegExp")},{"./_predicateToString":26}],35:[function(t,r){r.exports=t("./_predicateToString")("String")},{"./_predicateToString":26}],36:[function(t,r){"use strict";r.exports=function(t){return void 0===t}},{}],37:[function(t,r){"use strict";var e=t("./isArray");r.exports=function(t,r){if(e(r)&&2===r.length)t[r[0]]=r[1];else{var i;for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}},{"./isArray":30}],38:[function(t,r){"use strict";var e=t("./isReduced"),i=t("./_Reduced");r.exports=function(t,r){return(r||!e(t))&&(t=new i(t)),t}},{"./_Reduced":25,"./isReduced":33}],39:[function(t,r){"use strict";r.exports=function(t,r){return t+r}},{}],40:[function(t,r){"use strict";var e=t("./isReduced");r.exports=function(t){return e(t)&&(t=t.value),t}},{"./isReduced":33}]},{},[5])(5)});