!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.transduce=t()}}(function(){return function t(n,r,e){function i(o,s){if(!r[o]){if(!n[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(u)return u(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var a=r[o]={exports:{}};n[o][0].call(a.exports,function(t){var r=n[o][1][t];return i(r?r:t)},a,a.exports,t,n,r,e)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}({1:[function(t,n,r){n.exports=t(3)},{3:3}],2:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t){return function(n,r,e,i){return y.isFunction(r)&&(r=S(r)),r=n(r),3===arguments.length&&(i=e,e=r[w]()),t(r,e,i)}}function u(t){return function(n,r,e){return y.isFunction(n)&&(n=S(n)),2===arguments.length&&(e=r,r=n[w]()),t(n,r,e)}}function o(t){function n(n,e){return function(i,u){return 1===arguments.length?y.isFunction(i)?r(n,e,i):(u=i,t(e,n(),u)):t(i(e),n(),u)}}function r(n,r,e){return function(i){return t(e(r),n(),i)}}function e(n,r){return function(){return t(r,r[w](),n)}}return function(i,u,o){var s=a(i),c=arguments.length;return 1===c?n(e(i,s),s):2===c?y.isFunction(u)?r(e(i,s),s,u):(o=u,t(s,i,o)):t(u(s),i,o)}}function s(t,n){this[w]=t,this[b]=t,this[g]=n||y.identity}function c(t){return f(t)[m]()}function f(t){var n;return n=void 0!==t[m]?t:y.isArray(t)||y.isString(t)?new T(t):y.isFunction(t)?new O(function(){return{done:!1,value:t()}}):y.isFunction(t.next)?new O(function(){return t.next()}):new I(t)}function a(t){var n;return n=void 0===t||null===t?R:y.isFunction(t[b])?t:y.isFunction(t)?S(t):y.isArray(t)?j:y.isString(t)?F:k}function p(){return this}r.__esModule=!0;var h,l,d,v;r.transduceImpl=i,r.reduceImpl=u,r.intoImpl=o,r.iterator=c,r.iterable=f,r.transformer=a,r.symIterReturnSelf=p;var y=t(6),x=y.protocols.transducer,w=x.init,b=x.step,g=x.result,m=y.protocols.iterator,S=function(t,n){return new s(t,n)};r.completing=S;var _={}.hasOwnProperty,T=function(){function t(n){e(this,t),this.arr=n}return t.prototype[m]=function(){var t,n=this,r=0;return t={next:function(){return r>=n.arr.length?{done:!0}:{done:!1,value:n.arr[r++]}}},t[m]=p,t},t}();r.ArrayIterable=T;var O=function(){function t(n){e(this,t),this.fn=n}return t.prototype[m]=function(){var t;return t={next:this.fn},t[m]=p,t},t}();r.FunctionIterable=O;var I=function(){function t(n){e(this,t),this.obj=n,this.keys=Object.keys(n)}return t.prototype[m]=function(){var t,n=this,r=0;return t={next:function(){if(r>=n.keys.length)return{done:!0};var t=n.keys[r++];return{done:!1,value:[t,n.obj[t]]}}},t[m]=p,t},t}();r.ObjectIterable=I;var R=(h={},h[w]=function(){},h[b]=function(t,n){return n},h[g]=y.identity,h),j=(l={},l[w]=function(){return[]},l[b]=function(t,n){return t.push(n),t},l[g]=y.identity,l),F=(d={},d[w]=function(){return""},d[b]=function(t,n){return t+n},d[g]=y.identity,d),k=(v={},v[w]=function(){return{}},v[b]=function(t,n){if(y.isArray(n)&&2===n.length)t[n[0]]=n[1];else{var r;for(r in n)_.call(n,r)&&(t[r]=n[r])}return t},v[g]=y.identity,v)},{6:6}],3:[function(t,n,r){"use strict";function e(t,n){var r=n({},t);return delete r.default,r}function i(t,n){for(var r=Object.getOwnPropertyNames(n),e=0;e<r.length;e++){var i=r[e],u=Object.getOwnPropertyDescriptor(n,i);u&&u.configurable&&void 0===t[i]&&Object.defineProperty(t,i,u)}return t}r.__esModule=!0;var u=t(4);i(r,e(u,i));var o=t(5);i(r,e(o,i))},{4:4,5:5}],4:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function u(t,n,r){return p.isArray(r)?o(t,n,r):p.isFunction(r[x])?s(t,n,r):c(t,n,r)}function o(t,n,r){for(var e=n,i=0,u=r.length;i<u;i++)if(e=t[v](e,r[i]),p.isReduced(e)){e=p.unreduced(e);break}return t[y](e)}function s(t,n,r){var e=r[x](t[v].bind(t),n);return t[y](e)}function c(t,n,r){var e,i=n;for(r=h.iterator(r);;){if(e=r.next(),e.done)break;if(i=t[v](i,e.value),p.isReduced(i)){i=p.unreduced(i);break}}return t[y](i)}function f(t,n){return new I(t,n)}r.__esModule=!0;var a;r.sequence=f;var p=t(6),h=t(2),l=p.protocols.transducer,d=l.init,v=l.step,y=l.result,x=l.reduce,w=p.protocols.iterator;r.transformer=h.transformer,r.iterable=h.iterable,r.iterator=h.iterator,r.completing=h.completing,r.compose=p.compose,r.identity=p.identity,r.protocols=p.protocols,r.isReduced=p.isReduced,r.reduced=p.reduced,r.unreduced=p.unreduced,r.Transducer=p.Transducer,r.isIterable=p.isIterable,r.isIterator=p.isIterator;var b=h.reduceImpl(u);r.reduce=b;var g=h.transduceImpl(u);r.transduce=g;var m=h.intoImpl(u);r.into=m;var S=function(t,n,r){return function(e){return new _(e,t,n,r)}};r.transducer=S;var _=function(t){function n(r,i,u,o){e(this,n),t.call(this,r),this._init=o,this._step=i,this._result=u,this.xfInit=this.xfInit.bind(this),this.xfStep=this.xfStep.bind(this),this.xfResult=this.xfResult.bind(this)}return i(n,t),n.prototype[d]=function(){return this._init?this._init(this.xfInit):this.xfInit()},n.prototype[v]=function(t,n){return this._step?this._step(this.xfStep,t,n):this.xfStep(t,n)},n.prototype[y]=function(t){return this._result?this._result(this.xfResult,t):this.xfResult(t)},n}(p.Transducer),T=function(t,n){return new O(t,n)};r.eduction=T;var O=function(){function t(n,r){e(this,t),this.t=n,this.coll=r}return t.prototype[w]=function(){return h.iterator(f(this.t,this.coll))},t.prototype[x]=function(t,n){return g(this.t,t,n,this.coll)},t}(),I=function(){function t(n,r){e(this,t),this.t=n,this.coll=r}return t.prototype[w]=function(){return new R(new F(this.t,h.iterator(this.coll)))},t}(),R=function(){function t(n){e(this,t),this.stepper=n,this.values=[]}return t.prototype.next=function(){return this.stepper&&0===this.values.length&&this.stepper.step(this),this.values.length?{done:!1,value:this.values.shift()}:{done:!0}},t}();R.prototype[w]=h.symIterReturnSelf;var j=(a={},a[d]=function(){},a[v]=function(t,n){return t.values.push(n),t},a[y]=function(t){return t.stepper=null,t},a),F=function(){function t(n,r){e(this,t),this.xf=n(j),this.iter=r}return t.prototype.step=function(t){for(var n,r,e=t.values,i=e.length;i===e.length;){if(n=this.iter.next(),n.done){this.xf[y](t);break}if(r=this.xf[v](t,n.value),p.isReduced(r)){this.xf[y](t);break}}},t}()},{2:2,6:6}],5:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}r.__esModule=!0;var u=t(6),o=t(4),s=u.protocols.transducer,c=s.step,f=s.result,a=function(t){return function(n){return new p(t,n)}};r.map=a;var p=function(t){function n(r,i){e(this,n),t.call(this,i),this.f=r}return i(n,t),n.prototype[c]=function(t,n){return this.xfStep(t,this.f(n))},n}(u.Transducer),h=function(t){return function(n){return new l(t,n)}};r.filter=h;var l=function(t){function n(r,i){e(this,n),t.call(this,i),this.p=r}return i(n,t),n.prototype[c]=function(t,n){return this.p(n)?this.xfStep(t,n):t},n}(u.Transducer),d=function(t){return h(function(n){return!t(n)})};r.remove=d;var v=function(t){return function(n){return new y(t,n)}};r.take=v;var y=function(t){function n(r,i){e(this,n),t.call(this,i),this.n=r}return i(n,t),n.prototype[c]=function(t,n){return this.n-- >0&&(t=this.xfStep(t,n)),this.n<=0&&(t=u.reduced(t)),t},n}(u.Transducer),x=function(t){return function(n){return new w(t,n)}};r.takeWhile=x;var w=function(t){function n(r,i){e(this,n),t.call(this,i),this.p=r}return i(n,t),n.prototype[c]=function(t,n){return this.p(n)?this.xfStep(t,n):u.reduced(t)},n}(u.Transducer),b=function(t){return function(n){return new g(t,n)}};r.drop=b;var g=function(t){function n(r,i){e(this,n),t.call(this,i),this.n=r}return i(n,t),n.prototype[c]=function(t,n){return--this.n<0?this.xfStep(t,n):t},n}(u.Transducer),m=function(t){return function(n){return new S(t,n)}};r.dropWhile=m;var S=function(t){function n(r,i){e(this,n),t.call(this,i),this.p=r,this.found=!1}return i(n,t),n.prototype[c]=function(t,n){if(!this.found){if(this.p(n))return t;this.found=!0}return this.xfStep(t,n)},n}(u.Transducer),_=function(t){return new T(t)};r.cat=_;var T=function(t){function n(r){e(this,n),t.call(this,new O(r))}return i(n,t),n.prototype[c]=function(t,n){return o.reduce(this.xf,t,n)},n}(u.Transducer),O=function(t){function n(r){e(this,n),t.call(this,r)}return i(n,t),n.prototype[c]=function(t,n){return t=this.xfStep(t,n),u.isReduced(t)&&(t=u.reduced(t,!0)),t},n}(u.Transducer),I=function(t){return u.compose(a(t),_)};r.mapcat=I;var R=function(t){return function(n){return new j(t,n)}};r.partitionAll=R;var j=function(t){function n(r,i){e(this,n),t.call(this,i),this.n=r,this.inputs=[]}return i(n,t),n.prototype[c]=function(t,n){var r=this.inputs;return r.push(n),this.n===r.length&&(this.inputs=[],t=this.xfStep(t,r)),t},n.prototype[f]=function(t){var n=this.inputs;return n&&n.length&&(this.inputs=[],t=this.xfStep(t,n)),this.xfResult(t)},n}(u.Transducer),F=function(t){return function(n){return new k(t,n)}};r.partitionBy=F;var k=function(t){function n(r,i){e(this,n),t.call(this,i),this.f=r}return i(n,t),n.prototype[c]=function(t,n){var r=this.inputs,e=this.f(n),i=this.prev;return this.prev=e,void 0===r?this.inputs=[n]:i===e?r.push(n):(this.inputs=[],t=this.xfStep(t,r),u.isReduced(t)||this.inputs.push(n)),t},n.prototype[f]=function(t){var n=this.inputs;return n&&n.length&&(this.inputs=[],t=this.xfStep(t,n)),this.xfResult(t)},n}(u.Transducer),A=function(){return function(t){return new E(t)}};r.dedupe=A;var E=function(t){function n(r){e(this,n),t.call(this,r),this.sawFirst=!1}return i(n,t),n.prototype[c]=function(t,n){return this.sawFirst&&this.last===n||(t=this.xfStep(t,n)),this.last=n,this.sawFirst=!0,t},n}(u.Transducer),P=function(t){return function(n){return new q(t,n)}};r.unique=P;var q=function(t){function n(r,i){e(this,n),t.call(this,i),this.seen=[],this.f=r||u.identity}return i(n,t),n.prototype[c]=function(t,n){var r=this.f(n);return this.seen.indexOf(r)<0&&(this.seen.push(r),t=this.xfStep(t,n)),t},n}(u.Transducer),M=function(t){return function(n){return new C(t,n)}};r.tap=M;var C=function(t){function n(r,i){e(this,n),t.call(this,i),this.f=r}return i(n,t),n.prototype[c]=function(t,n){return this.f(t,n),this.xfStep(t,n)},n}(u.Transducer),N=function(t){return function(n){return new D(t,n)}};r.interpose=N;var D=function(t){function n(r,i){e(this,n),t.call(this,i),this.separator=r,this.started=!1}return i(n,t),n.prototype[c]=function(t,n){if(this.started){var r=this.xf[c](t,this.separator);return u.isReduced(r)?r:this.xfStep(r,n)}return this.started=!0,this.xfStep(t,n)},n}(u.Transducer)},{4:4,6:6}],6:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t){var n="[object "+t+"]";return function(t){return n===p.call(t)}}function u(t){return!!(x(t)||h(t)||t&&t[g.iterator])}function o(t){return!(!t||!l(t.next))}function s(){var t=arguments;return function(n){for(var r=t.length;r--;)n=t[r](n);return n}}function c(t,n){return!n&&T(t)||(t=new f(t)),t}function f(t){this[S]=t,this[_]=!0}function a(t){return T(t)&&(t=t[S]),t}r.__esModule=!0,r.isIterable=u,r.isIterator=o,r.compose=s,r.reduced=c,r.unreduced=a;var p=Object.prototype.toString,h=({}.hasOwnProperty,Array.isArray||i("Array"));r.isArray=h;var l=function(t){return"function"==typeof t};r.isFunction=l;var d=function(t){return void 0===t};r.isUndefined=d;var v=i("Number");r.isNumber=v;var y=i("RegExp");r.isRegExp=y;var x=i("String");r.isString=x;var w=function(t){return t};r.identity=w;var b="undefined"!=typeof Symbol,g={iterator:b?Symbol.iterator:"@@iterator",transducer:{init:"@@transducer/init",step:"@@transducer/step",result:"@@transducer/result",reduce:"@@transducer/reduce",reduced:"@@transducer/reduced",value:"@@transducer/value"}};r.protocols=g;var m=g.transducer,S=m.value,_=m.reduced,T=function(t){return!(!t||!t[_])};r.isReduced=T;var O=g.transducer,I=O.init,R=O.step,j=O.result,F=function(){function t(n){e(this,t),this.xf=n}return t.prototype[I]=function(){return this.xfInit()},t.prototype.xfInit=function(){return this.xf[I]()},t.prototype[R]=function(t,n){return this.xfStep(t,n)},t.prototype.xfStep=function(t,n){return this.xf[R](t,n)},t.prototype[j]=function(t){return this.xfResult(t)},t.prototype.xfResult=function(t){return this.xf[j](t)},t}();r.Transducer=F},{}]},{},[1])(1)});